@isTest
public with sharing class Movies_TEST {
    @isTest static void testMoviesParse(){


		String json = '{\"results\":[{\"vote_count\":866,\"id\":353081,\"video\":false,\"vote_average\":7.5,\"title\":\"Mission: Impossible - Fallout\",\"popularity\":205.512,\"poster_path\":\"\\/AkJQpZp9WoNdj7pLYSj1L0RcMMN.jpg\",\"original_language\":\"en\",\"original_title\":\"Mission: Impossible - Fallout\",\"genre_ids\":[12,28,53],\"backdrop_path\":\"\\/5qxePyMYDisLe8rJiBYX8HKEyv2.jpg\",\"adult\":false,\"overview\":\"When an IMF mission ends badly, the world is faced with dire consequences. As Ethan Hunt takes it upon himself to fulfil his original briefing, the CIA begin to question his loyalty and his motives. The IMF team find themselves in a race against time, hunted by assassins while trying to prevent a global catastrophe.\",\"release_date\":\"2018-07-25\"},{\"vote_count\":216,\"id\":345940,\"video\":false,\"vote_average\":6.3,\"title\":\"The Meg\",\"popularity\":188.833,\"poster_path\":\"\\/xqECHNvzbDL5I3iiOVUkVPJMSbc.jpg\",\"original_language\":\"en\",\"original_title\":\"The Meg\",\"genre_ids\":[28,878,53,27],\"backdrop_path\":\"\\/ibKeXahq4JD63z6uWQphqoJLvNw.jpg\",\"adult\":false,\"overview\":\"A deep sea submersible pilot revisits his past fears in the Mariana Trench, and accidentally unleashes the seventy foot ancestor of the Great White Shark believed to be extinct.\",\"release_date\":\"2018-08-09\"},{\"vote_count\":1348,\"id\":363088,\"video\":false,\"vote_average\":7,\"title\":\"Ant-Man and the Wasp\",\"popularity\":96.736,\"poster_path\":\"\\/rv1AWImgx386ULjcf62VYaW8zSt.jpg\",\"original_language\":\"en\",\"original_title\":\"Ant-Man and the Wasp\",\"genre_ids\":[28,12,14,35,878],\"backdrop_path\":\"\\/6P3c80EOm7BodndGBUAJHHsHKrp.jpg\",\"adult\":false,\"overview\":\"As Scott Lang awaits expiration of his term of house detention, Hope van Dyne and Dr. Hank Pym involve him in a scheme to rescue Mrs. van Dyne from the micro-universe into which she has fallen, while two groups of schemers converge on them with intentions of stealing Dr. Pym\'s inventions.\",\"release_date\":\"2018-07-04\"},{\"vote_count\":371,\"id\":447200,\"video\":false,\"vote_average\":6.1,\"title\":\"Skyscraper\",\"popularity\":95.476,\"poster_path\":\"\\/5LYSsOPzuP13201qSzMjNxi8FxN.jpg\",\"original_language\":\"en\",\"original_title\":\"Skyscraper\",\"genre_ids\":[28,53,18],\"backdrop_path\":\"\\/oMKFQmoVgB69fyXfSMu0lGlHJP2.jpg\",\"adult\":false,\"overview\":\"Framed and on the run, a former FBI agent must save his family from a blazing fire in the world\'s tallest building.\",\"release_date\":\"2018-07-11\"},{\"vote_count\":28,\"id\":493006,\"video\":false,\"vote_average\":4.5,\"title\":\"Detective Conan: Zero the Enforcer\",\"popularity\":95.384,\"poster_path\":\"\\/mMWV5MXn2pkDnnI4vWpy3dRWdNC.jpg\",\"original_language\":\"ja\",\"original_title\":\"名探偵コナン ゼロの執行人\",\"genre_ids\":[16,80,9648,28,18],\"backdrop_path\":\"\\/kEqeponciiz6TyuKWtnKSzXzbGa.jpg\",\"adult\":false,\"overview\":\"There is a sudden explosion at Tokyo Summit\'s giant Edge of Ocean facility. The shadow of Tōru Amuro, who works for the National Police Agency Security Bureau as Zero, appears at the site. In addition, the \\\"triple-face\\\" character is known as Rei Furuya as a detective and Kogorō Mōri\'s apprentice, and he is also known as Bourbon as a Black Organization member. Kogorō is arrested as a suspect in the case of the explosion. Conan conducts an investigation to prove Kogorō\'s innocence, but Amuro gets in his way.\",\"release_date\":\"2018-04-13\"},{\"vote_count\":2649,\"id\":351286,\"video\":false,\"vote_average\":6.6,\"title\":\"Jurassic World: Fallen Kingdom\",\"popularity\":84.158,\"poster_path\":\"\\/c9XxwwhPHdaImA2f1WEfEsbhaFB.jpg\",\"original_language\":\"en\",\"original_title\":\"Jurassic World: Fallen Kingdom\",\"genre_ids\":[28,12,878],\"backdrop_path\":\"\\/3s9O5af2xWKWR5JzP2iJZpZeQQg.jpg\",\"adult\":false,\"overview\":\"Several years after the demise of Jurassic World, a volcanic eruption threatens the remaining dinosaurs on the island of Isla Nublar. Claire Dearing, the former park manager and founder of the Dinosaur Protection Group, recruits Owen Grady to help prevent the extinction of the dinosaurs once again.\",\"release_date\":\"2018-06-06\"},{\"vote_count\":9,\"id\":476292,\"video\":false,\"vote_average\":5.8,\"title\":\"Maquia: When the Promised Flower Blooms\",\"popularity\":60.074,\"poster_path\":\"\\/vOrK1n6VgVCFBwgcq5tMoPCqa47.jpg\",\"original_language\":\"ja\",\"original_title\":\"さよならの朝に約束の花をかざろう\",\"genre_ids\":[16],\"backdrop_path\":\"\\/cfbjFQ14hSTgXChBEvaEjFiUaKb.jpg\",\"adult\":false,\"overview\":\"A story of encounters and partings interwoven between people; this is a human drama with feelings that touch one\'s heart gradually, which everyone has experienced at least once.\",\"release_date\":\"2018-02-24\"},{\"vote_count\":238,\"id\":455980,\"video\":false,\"vote_average\":7,\"title\":\"Tag\",\"popularity\":57.61,\"poster_path\":\"\\/eXXpuW2xaq5Aen9N5prFlARVIvr.jpg\",\"original_language\":\"en\",\"original_title\":\"Tag\",\"genre_ids\":[35],\"backdrop_path\":\"\\/yRXzrwLfB5tDTIA3lSU9S3N9RUK.jpg\",\"adult\":false,\"overview\":\"For one month every year, five highly competitive friends hit the ground running in a no-holds-barred game of tag they’ve been playing since the first grade. This year, the game coincides with the wedding of their only undefeated player, which should finally make him an easy target. But he knows they’re coming...and he’s ready.\",\"release_date\":\"2018-06-14\"},{\"vote_count\":1825,\"id\":260513,\"video\":false,\"vote_average\":7.7,\"title\":\"Incredibles 2\",\"popularity\":53.163,\"poster_path\":\"\\/x1txcDXkcM65gl7w20PwYSxAYah.jpg\",\"original_language\":\"en\",\"original_title\":\"Incredibles 2\",\"genre_ids\":[28,12,16,10751],\"backdrop_path\":\"\\/mabuNsGJgRuCTuGqjFkWe1xdu19.jpg\",\"adult\":false,\"overview\":\"Elastigirl springs into action to save the day, while Mr. Incredible faces his greatest challenge yet – taking care of the problems of his three children.\",\"release_date\":\"2018-06-14\"},{\"vote_count\":197,\"id\":345887,\"video\":false,\"vote_average\":6.2,\"title\":\"The Equalizer 2\",\"popularity\":44.163,\"poster_path\":\"\\/cQvc9N6JiMVKqol3wcYrGshsIdZ.jpg\",\"original_language\":\"en\",\"original_title\":\"The Equalizer 2\",\"genre_ids\":[53,28,80],\"backdrop_path\":\"\\/yonslm3ahbmY1egZOOsaBhBfW51.jpg\",\"adult\":false,\"overview\":\"Robert McCall returns to deliver his special brand of vigilante justice -- but how far will he go when it\'s someone he loves?\",\"release_date\":\"2018-07-19\"},{\"vote_count\":528,\"id\":442249,\"video\":false,\"vote_average\":6,\"title\":\"The First Purge\",\"popularity\":40.682,\"poster_path\":\"\\/2slvblTroiT1lY9bYLK7Amigo1k.jpg\",\"original_language\":\"en\",\"original_title\":\"The First Purge\",\"genre_ids\":[28,27,878,53],\"backdrop_path\":\"\\/dnaitaoCh8MftfYEVnprcuYExZp.jpg\",\"adult\":false,\"overview\":\"To push the crime rate below one percent for the rest of the year, the New Founding Fathers of America test a sociological theory that vents aggression for one night in one isolated community. But when the violence of oppressors meets the rage of the others, the contagion will explode from the trial-city borders and spread across the nation.\",\"release_date\":\"2018-07-04\"},{\"vote_count\":281,\"id\":419831,\"video\":false,\"vote_average\":6.1,\"title\":\"I Kill Giants\",\"popularity\":39.108,\"poster_path\":\"\\/cvit6HDbXHE6W5kGPd47jd0wthQ.jpg\",\"original_language\":\"en\",\"original_title\":\"I Kill Giants\",\"genre_ids\":[18,14],\"backdrop_path\":\"\\/lffgWEBiLf9DbDdb86WsGsEcWTg.jpg\",\"adult\":false,\"overview\":\"Sophia, a new high school student, tries to make friends with Barbara, who tells her that “she kills giants,” protecting this way her hometown and its inhabitants, who do not understand her strange behavior.\",\"release_date\":\"2018-01-21\"},{\"vote_count\":96,\"id\":451480,\"video\":false,\"vote_average\":7.5,\"title\":\"The Guernsey Literary & Potato Peel Pie Society\",\"popularity\":38.953,\"poster_path\":\"\\/55oz5d6NdH7ohbM1I1Euh1Tt6PN.jpg\",\"original_language\":\"en\",\"original_title\":\"The Guernsey Literary & Potato Peel Pie Society\",\"genre_ids\":[10749,18,36],\"backdrop_path\":\"\\/t37KsDxxyOGuadVDWD0IbUahYQX.jpg\",\"adult\":false,\"overview\":\"Free-spirited writer Juliet Ashton forms a life-changing bond with the delightful and eccentric Guernsey Literary and Potato Peel Pie Society, when she decides to write about the book club they formed during the occupation of Guernsey in WWII.\",\"release_date\":\"2018-04-19\"},{\"vote_count\":345,\"id\":400155,\"video\":false,\"vote_average\":6.8,\"title\":\"Hotel Transylvania 3: Summer Vacation\",\"popularity\":31.683,\"poster_path\":\"\\/gjAFM4xhA5vyLxxKMz38ujlUfDL.jpg\",\"original_language\":\"en\",\"original_title\":\"Hotel Transylvania 3: Summer Vacation\",\"genre_ids\":[10751,14,35,16],\"backdrop_path\":\"\\/m03jul0YdVEOFXEQVUv6pOVQYGL.jpg\",\"adult\":false,\"overview\":\"Dracula, Mavis, Johnny and the rest of the Drac Pack take a vacation on a luxury Monster Cruise Ship, where Dracula falls in love with the ship\'s captain, Ericka, who\'s secretly a descendant of Abraham Van Helsing, the notorious monster slayer.\",\"release_date\":\"2018-06-30\"},{\"vote_count\":3,\"id\":455207,\"video\":false,\"vote_average\":1,\"title\":\"Crazy Rich Asians\",\"popularity\":30.165,\"poster_path\":\"\\/gnTqi4nhIi1eesT5uYMmhEPGNih.jpg\",\"original_language\":\"en\",\"original_title\":\"Crazy Rich Asians\",\"genre_ids\":[35],\"backdrop_path\":\"\\/zeHB7aP46Xs3u4aFLuAq2GFeUGb.jpg\",\"adult\":false,\"overview\":\"An American-born Chinese economics professor accompanies her boyfriend to Singapore for his best friend\'s wedding, only to get thrust into the lives of Asia\'s rich and famous.\",\"release_date\":\"2018-08-15\"},{\"vote_count\":1,\"id\":487258,\"video\":false,\"vote_average\":2,\"title\":\"Marainthirunthu Paarkum Marmam Enna\",\"popularity\":29.991,\"poster_path\":\"\\/hLNQYT8dD4gWSqTp4cEI9M9ho5Y.jpg\",\"original_language\":\"ta\",\"original_title\":\"மறைந்திருந்து பார்க்கும் மர்மம் என்ன\",\"genre_ids\":[10751,80,10749],\"backdrop_path\":\"\\/lp2fC1MPUc8bCmDxJ8uXLvecyby.jpg\",\"adult\":false,\"overview\":\"Marainthirunthu Paarkum Marmam Enna is an upcoming tamil movie. The film has a bunch of newcomers with Sharanya Ponvannan, JD Chakravarthy, Radharavi and Manobala playing key roles.\",\"release_date\":\"2018-07-27\"},{\"vote_count\":366,\"id\":458423,\"video\":false,\"vote_average\":7.7,\"title\":\"Mamma Mia! Here We Go Again\",\"popularity\":29.159,\"poster_path\":\"\\/aWicerX4Y7n7tUwRAVHsVcBBpj2.jpg\",\"original_language\":\"en\",\"original_title\":\"Mamma Mia! Here We Go Again\",\"genre_ids\":[35,10749,10402],\"backdrop_path\":\"\\/8HKwxHZ23sW8wz4yb28IWnAM1M6.jpg\",\"adult\":false,\"overview\":\"Five years after meeting her three fathers, Sophie Sheridan prepares to open her mother’s hotel. In 1979, young Donna Sheridan meets the men who each could be Sophie’s biological father.\",\"release_date\":\"2018-07-18\"},{\"vote_count\":69,\"id\":454992,\"video\":false,\"vote_average\":6.5,\"title\":\"The Spy Who Dumped Me\",\"popularity\":26.546,\"poster_path\":\"\\/2lIr27lBdxCpzYDl6WUHzzD6l6H.jpg\",\"original_language\":\"en\",\"original_title\":\"The Spy Who Dumped Me\",\"genre_ids\":[28,35],\"backdrop_path\":\"\\/9CqzJn0nLaDNM6QWfGkuox2Oi93.jpg\",\"adult\":false,\"overview\":\"Audrey and Morgan are best friends who unwittingly become entangled in an international conspiracy when one of the women discovers the boyfriend who dumped her was actually a spy.\",\"release_date\":\"2018-08-02\"},{\"vote_count\":772,\"id\":399174,\"video\":false,\"vote_average\":7.8,\"title\":\"Isle of Dogs\",\"popularity\":26.506,\"poster_path\":\"\\/rSluCePdXXtNiQeE6Na5yRGamhL.jpg\",\"original_language\":\"en\",\"original_title\":\"Isle of Dogs\",\"genre_ids\":[12,35,16],\"backdrop_path\":\"\\/5YtXsLG9ncjjFyGZjoeV31CGf01.jpg\",\"adult\":false,\"overview\":\"In the future, an outbreak of canine flu leads the mayor of a Japanese city to banish all dogs to an island that\'s a garbage dump. The outcasts must soon embark on an epic journey when a 12-year-old boy arrives on the island to find his beloved pet.\",\"release_date\":\"2018-03-23\"},{\"vote_count\":96,\"id\":445651,\"video\":false,\"vote_average\":6.9,\"title\":\"The Darkest Minds\",\"popularity\":26.358,\"poster_path\":\"\\/94RaS52zmsqaiAe1TG20pdbJCZr.jpg\",\"original_language\":\"en\",\"original_title\":\"The Darkest Minds\",\"genre_ids\":[878,53],\"backdrop_path\":\"\\/5BxrMNGl3YDiWgHCVJu8iLQoJDM.jpg\",\"adult\":false,\"overview\":\"After a disease kills 98% of America\'s children, the surviving 2% develop superpowers and are placed in internment camps. A 16-year-old girl escapes her camp and joins a group of other teens on the run from the government.\",\"release_date\":\"2018-08-02\"}],\"page\":1,\"total_results\":829,\"dates\":{\"maximum\":\"2018-08-21\",\"minimum\":\"2018-07-04\"},\"total_pages\":42}';


        MoviesTestUtil util = new MoviesTestUtil();
        User contextUser = util.getStandardUser(false, true);            
        Test.startTest();
        system.RunAs(contextuser){
            Movies obj = Movies.parse(json);
            System.assert(obj != null);            
            Test.stopTest();
        }        
    }

}